{% liquid
  assign object = section.settings
  assign blocks = section.blocks
%}
<section class="knowledge">
  <div class="container container--small">
    <div class="knowledge__title">
      <h2 class="h2">{{object.section_title}}</h2>
      <a href="{{object.cta_url}}" class="btn btn--solid">{{ object.cta_label}} </a>
    </div>
    <div class="knowledge__inner">
      {% for block in blocks%}
      {% assign b = block.settings %}
      <div class="knowledge__item">
        <div class="knowledge__item-content">
          <div class="media-wrapper">
            {%- render 'img',
            img: b.article.image,
            img_sm: '',
            img_md: '',
            img_lg: '',
            m_width: '500'
          -%}
          </div>
          <div class="knowledge__item-text">
            <p>{{b.article.title}}</p>
            <a class="knowledge__cta" href="{{b.article.url}}">{{b.cta_label}} {% render 'icon', icon: 'arrow-up-right' %} </a>
          </div>
        </div>
      </div>
      {%endfor%}
    </div>
  </div>
</section>

{% schema %}
{
"name": "Knowledge",
"max_blocks": 3,
"settings": [
{
  "type": "text",
  "id": "section_title",
  "label": "Section title",
  "default": "Want to up your E-bike knowledge?"
},
{
  "type": "text",
  "id": "cta_label",
  "label": "CTA button label",
  "default": "Go To Magnum Academy"
},
{
  "type": "url",
  "id": "cta_url",
  "label": "CTA button URL"
}
],
"blocks": [
{
  "name": "Article",
  "type": "block",
  "settings": [
  {
    "type": "article",
    "id": "article",
    "label": "Article"
  },
  {
    "type": "text",
    "id": "cta_label",
    "label": "CTA button label",
    "default": "READ FULL ARTICLE"
  }
  ]
}
],
"presets": [
  {
    "name": "Knowledge"
  }
]
}  
{% endschema %}

