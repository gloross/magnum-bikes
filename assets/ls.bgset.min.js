/*! For license information please see ls.bgset.min.js.LICENSE.txt */
!function(e,t){var a=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",a,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?a():e.addEventListener("lazyunveilread",a,!0)}(window,(function(e,t,a){"use strict";var r,i,s,l,n,d,u,o,z;e.addEventListener&&(r=a.cfg,i=/\s+/g,s=/\s*\|\s+|\s+\|\s*/g,l=/^(.+?)(?:\s+\[\s*(.+?)\s*\])(?:\s+\[\s*(.+?)\s*\])?$/,n=/^\s*\(*\s*type\s*:\s*(.+?)\s*\)*\s*$/,d=/\(|\)|'/,u={contain:1,cover:1},o=function(e,t){var a;t&&((a=t.match(n))&&a[1]?e.setAttribute("type",a[1]):e.setAttribute("media",r.customMedia[t]||t))},z=function(e){var t,r,i,s,l;e.target._lazybgset&&(r=(t=e.target)._lazybgset,(i=t.currentSrc||t.src)&&(s=d.test(i)?JSON.stringify(i):i,(l=a.fire(r,"bgsetproxy",{src:i,useSrc:s,fullSrc:null})).defaultPrevented||(r.style.backgroundImage=l.detail.fullSrc||"url("+l.detail.useSrc+")")),t._lazybgsetLoading&&(a.fire(r,"_lazyloaded",{},!1,!0),delete t._lazybgsetLoading))},addEventListener("lazybeforeunveil",(function(e){var n,d,u,c,g,y,b,f,v,m;!e.defaultPrevented&&(n=e.target.getAttribute("data-bgset"))&&(v=e.target,(m=t.createElement("img")).alt="",m._lazybgsetLoading=!0,e.detail.firesLoad=!0,d=n,u=v,c=m,g=t.createElement("picture"),y=u.getAttribute(r.sizesAttr),b=u.getAttribute("data-ratio"),f=u.getAttribute("data-optimumx"),u._lazybgset&&u._lazybgset.parentNode==u&&u.removeChild(u._lazybgset),Object.defineProperty(c,"_lazybgset",{value:u,writable:!0}),Object.defineProperty(u,"_lazybgset",{value:g,writable:!0}),d=d.replace(i," ").split(s),g.style.display="none",c.className=r.lazyClass,1!=d.length||y||(y="auto"),d.forEach((function(e){var a,i=t.createElement("source");y&&"auto"!=y&&i.setAttribute("sizes",y),(a=e.match(l))?(i.setAttribute(r.srcsetAttr,a[1]),o(i,a[2]),o(i,a[3])):i.setAttribute(r.srcsetAttr,e),g.appendChild(i)})),y&&(c.setAttribute(r.sizesAttr,y),u.removeAttribute(r.sizesAttr),u.removeAttribute("sizes")),f&&c.setAttribute("data-optimumx",f),b&&c.setAttribute("data-ratio",b),g.appendChild(c),u.appendChild(g),setTimeout((function(){a.loader.unveil(m),a.rAF((function(){a.fire(m,"_lazyloaded",{},!0,!0),m.complete&&z({target:m})}))})))})),t.addEventListener("load",z,!0),e.addEventListener("lazybeforesizes",(function(e){var t,r,i;e.detail.instance==a&&e.target._lazybgset&&e.detail.dataAttr&&(r=e.target._lazybgset,i=(getComputedStyle(r)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!u[i]&&u[r.style.backgroundSize]&&(i=r.style.backgroundSize),u[t=i]&&(e.target._lazysizesParentFit=t,a.rAF((function(){e.target.setAttribute("data-parent-fit",t),e.target._lazysizesParentFit&&delete e.target._lazysizesParentFit}))))}),!0),t.documentElement.addEventListener("lazybeforesizes",(function(e){var t,r;!e.defaultPrevented&&e.target._lazybgset&&e.detail.instance==a&&(e.detail.width=(t=e.target._lazybgset,r=a.gW(t,t.parentNode),(!t._lazysizesWidth||r>t._lazysizesWidth)&&(t._lazysizesWidth=r),t._lazysizesWidth))})))}));