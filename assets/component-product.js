!function(){"use strict";var t=Shopify.theme.locales;new class{constructor(){this.productContainer=document.querySelector(".js-product"),this.productForm=this.productContainer.querySelector(".js-product-form"),this.productTemplate=document.querySelector(".js-product-json").innerHTML||"{}",this.product=JSON.parse(this.productTemplate),this.gallery=this.productContainer.querySelector(".js-gallery"),this.addToCart=this.productForm.querySelector(".js-go-cart-add-to-cart"),this.backInStock=this.productForm.querySelector(".js-button-bis"),this.variantTitle=this.productForm.querySelector(".js-public-title"),this.productSelect=this.productForm.querySelector("#product-select"),this.classes={isVisible:"is-visible",isHidden:"is-hidden"},this.init()}init(){this.handleVariantChange()}getInventoryQuantity(t){return this.productSelect.querySelector('option[value="'.concat(t,'"]')).getAttribute("inventory-quantity")||0}handleVariantChange(){new Shopify.OptionSelectors("product-select",{product:this.product,onVariantSelected:(s,e)=>{const i=this.getInventoryQuantity(s.id),a=this.productForm.dataset.inventoryManagement;if(this.handleGalleryImages(s),this.refreshVariantTitle(s),a&&i<=0&&s.available)this.showBackInStock();else if(s.available){const s=t["products.buttons.add_to_cart"];this.showAddToCart(s),this.addToCart.disabled=!1}else{const s=t["products.buttons.sold_out"];this.showAddToCart(s),this.addToCart.disabled=!0}},enableHistoryState:!0})}handleGalleryImages(t){if(!this.gallery)return;const s=this.gallery.querySelectorAll("li");s&&s.forEach((s=>{Number(s.dataset.variant)!==t.id?s.style.display="none":s.style.display="block"}))}refreshVariantTitle(t){this.variantTitle&&(this.variantTitle.textContent=t.public_title)}showAddToCart(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.addToCart.querySelector("[data-add-to-cart-text]").innerHTML=t),this.addToCart.classList.add(this.classes.isVisible),this.addToCart.classList.remove(this.classes.isHidden),this.backInStock.classList.add(this.classes.isHidden),this.backInStock.classList.remove(this.classes.isVisible)}showBackInStock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.addToCart.querySelector("[data-add-to-cart-text]").innerHTML=t),this.addToCart.classList.add(this.classes.isHidden),this.addToCart.classList.remove(this.classes.isVisible),this.backInStock.classList.add(this.classes.isVisible),this.backInStock.classList.remove(this.classes.isHidden)}}}();